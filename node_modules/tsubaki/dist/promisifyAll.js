"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.promisifyAll = void 0;
const promisify_1 = require("./promisify");
/**
 * Promisifies an object with functions
 * @param {Object} obj The object to promisify
 * @param {string} [suffix='Async'] Suffix to append to the promisified function
 * @returns {Object} The updated object with promisified functions
 */
const promisifyAll = (obj, suffix = 'Async') => {
    // Appearently some people like to promisify class instances
    const newObj = Object.getPrototypeOf(obj);
    for (const key of Object.keys(obj).concat(Object.keys(newObj))) {
        if (typeof obj[key] !== 'function')
            continue;
        obj[`${key}${suffix}`] = promisify_1.default(obj[key]);
    }
    return obj;
};
exports.promisifyAll = promisifyAll;
exports.default = promisifyAll;
//# sourceMappingURL=promisifyAll.js.map